<!DOCTYPE html>
<html>

<head>
    <meta charset='UTF-8'>
    <title>Modificando HTML #03</title>
    <link rel='stylesheet' href='css/estilo.css'>
    <script src='js/jquery.js'></script>
</head>

<body class='conteudo exercicio'>
    <h1>Modificando HTML #03</h1>
    <div id='conteudo'></div>

    <script>

        // MINHA SOLUÇÃO
        function solucao() {
            const pessoas = [
                { nome: 'Ana', nota: 9.1 },
                { nome: 'Bianca', nota: 8.4 },
                { nome: 'Carlos', nota: 7.6 },
                { nome: 'Julia', nota: 9.7 }
            ]
            
            const gerarLinhas = pessoas => {
                const linhas = []
                
                pessoas.forEach( pessoa => {
                    linhas.push(
                                    `<tr>
                                        <td>${pessoa.nome}</td>
                                        <td>${pessoa.nota}</td>
                                    </tr>`
                                )
                });
                return linhas
            }
            
            $('#conteudo')
                .append('<table></table>')
                .append(gerarLinhas(pessoas))
        }
        
        //essa $(document).ready(callback) será executada quando toda DOM tiver carregada
        // $(document).ready( solucao() )

        //SOLUÇÃO PROFESSOR
        // $(document).ready( function callback() { //quando a DOM tiver pronta
        //quando a DOM tiver pronta também $(callback) == $(document).ready( function callback() {})
        $(function () { 
            const pessoas = [
                { nome: 'Ana', nota: 9.1 },
                { nome: 'Bianca', nota: 8.4 },
                { nome: 'Carlos', nota: 7.6 },
                { nome: 'Julia', nota: 9.7 }
            ]

            const linhas = pessoas.map( aluno => {
                const tdNome = $('<td>').html(aluno.nome)
                const tdNota = $('<td>').html(aluno.nota)

                //formas diferentes de fazer a mesma coisa
                // return $('<tr>').append(tdNome).append(tdNota) 
                // return $('<tr>').append([tdNome, tdNota])
                return $('<tr>').append(tdNome, tdNota) //melhor forma

            })

            const table = $('<table>')
                .append(linhas).css('border', 'solid 5px')
            $('#conteudo').append(table)            
        })
    </script>
</body>